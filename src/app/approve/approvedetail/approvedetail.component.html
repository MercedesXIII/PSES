<!-- head data -->
<div div fxLayout="row" fxLayoutAlign="space-between center">
    <div fxLayout="row" fxLayoutAlign="start center">
        <button md-icon-button (click)="backpage()">
            <md-icon>arrow_back</md-icon>
        </button>
    </div>
    <div fxLayout="row" fxLayoutAlign="end center">
        <button (click)="approve(0)" class="mr-1" color="warn" style="width: 100%; color:white;" md-raised-button md-button-sm>{{'Reject' | translate}}</button>
        <button (click)="approve(1)" style="width: 100%; background-color: green; color:white;" md-raised-button md-button-sm>{{'Approve' | translate}}</button>
    </div>
</div>
<div *ngFor="let data of getEva" fxLayout="row" fxLayoutWrap="wrap" class="all">
    <div fxFlex.gt-sm="34" fxFlex.gt-xs="50" fxFlex="100" fxLayout="row">
        <div class="header" fxFlex="50" fxLayoutAlign="start center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">{{'First Name' | translate}}</div>
        </div>
        <div class="detail" fxFlex="50" fxLayoutAlign="start center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">{{data['name_language'][Lang]}}</div>
        </div>
    </div>
    <div fxFlex.gt-sm="33" fxFlex.gt-xs="50" fxFlex="100" fxLayout="row">
        <div class="header" fxFlex="50" fxLayoutAlign="start center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">{{'Last Name' | translate}}</div>
        </div>
        <div class="detail" fxFlex="50" fxLayoutAlign="start center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">{{data['lastname_language'][Lang]}}</div>
        </div>
    </div>
    <div fxFlex.gt-sm="33" fxFlex.gt-xs="50" fxFlex="100" fxLayout="row">
        <div class="header" fxFlex="50" fxLayoutAlign="start center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">{{'Group of Staff' | translate}}</div>
        </div>
        <div class="detail" fxFlex="50" fxLayoutAlign="start center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">{{data.GroupOfStaff}}</div>
        </div>
    </div>
    <div fxFlex.gt-sm="34" fxFlex.gt-xs="50" fxFlex="100" fxLayout="row">
        <div class="header" fxFlex="50" fxLayoutAlign="start center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">{{'Customer' | translate}}</div>
        </div>
        <div class="detail" fxFlex="50" fxLayoutAlign="start center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">{{data.CustomerCompanyAlias}}</div>
        </div>
    </div>
    <div fxFlex.gt-sm="33" fxFlex.gt-xs="50" fxFlex="100" fxLayout="row">
        <div class="header" fxFlex="50" fxLayoutAlign="start center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">{{'Project Code' | translate}}</div>
        </div>
        <div class="detail" fxFlex="50" fxLayoutAlign="start center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">{{data.ProjectCode}}</div>
        </div>
    </div>
    <div fxFlex.gt-sm="33" fxFlex.gt-xs="50" fxFlex="100" fxLayout="row">
        <div class="header" fxFlex="50" fxLayoutAlign="start center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">{{'Project Type' | translate}}</div>
        </div>
        <div class="detail" fxFlex="50" fxLayoutAlign="start center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">{{data.ProjectType}}</div>
        </div>
    </div>
    <div fxFlex.gt-sm="34" fxFlex.gt-xs="50" fxFlex="100" fxLayout="row">
        <div class="header" fxFlex="50" fxLayoutAlign="start center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">{{'Evaluate Term' | translate }}</div>
        </div>
        <div class="detail" fxFlex="50" fxLayoutAlign="start center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">{{data.EvaTerm}}</div>
        </div>
    </div>
    <div fxFlex.gt-sm="33" fxFlex.gt-xs="50" fxFlex="100" fxLayout="row">
        <div class="header" fxFlex="50" fxLayoutAlign="start center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">{{'Proj.Duration' | translate}}</div>
        </div>
        <div class="detail" fxFlex="50" fxLayoutAlign="start center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">{{data.StartDatePlan+"-"+data.FinishDatePlan}}</div>
        </div>
    </div>
    <div fxFlex.gt-sm="33" fxFlex.gt-xs="50" fxFlex="100" fxLayout="row">
        <div class="header" fxFlex="50" fxLayoutAlign="start center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">{{'Role & Responsible' | translate}}</div>
        </div>
        <div class="detail" fxFlex="50" fxLayoutAlign="start center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">{{data.Function}}</div>
        </div>
    </div>
    <div fxFlex.gt-sm="34" fxFlex.gt-xs="50" fxFlex="100" fxLayout="row">
        <div class="header" fxFlex.gt-xs="50" fxFlex.gt-sm="50" fxFlex="100" fxLayoutAlign="start center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">Filter By</div>
        </div>
        <div class="detail" fxFlex.gt-xs="50" fxFlex.gt-sm="50" fxFlex="100" fxLayoutAlign="start center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">Filter By</div>
        </div>
    </div>
    <div fxFlex.gt-sm="66" fxFlex.gt-xs="100" fxFlex="100" fxLayout="row">
        <div class="header" fxFlex.gt-xs="25" fxFlex.gt-sm="25" fxFlex="100" fxLayoutAlign="start center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">{{'Evaluator' | translate}}</div>
        </div>
        <div class="detail" fxFlex.gt-xs="75" fxFlex.gt-sm="75" fxFlex="100" fxLayoutAlign="start center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">{{data['Evaluator'][Lang]}}</div>
        </div>
    </div>
</div>
<!-- TableScore -->
<div *ngFor="let data of getEva" fxLayout="row" fxLayoutWrap="wrap" class="all mt-1">
    <div fxFlex.gt-sm="17" fxFlex.gt-xs="17" fxFlex="50" fxLayout="column">
        <div class="header" fxFlex="100" fxLayoutAlign="center center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">{{'Not Available' | translate}}</div>
        </div>
        <div class="header" fxFlex="100" fxLayout="row" fxLayoutAlign="center center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">N/A</div>
        </div>
    </div>
    <div fxFlex.gt-sm="17" fxFlex.gt-xs="17" fxFlex="50" fxLayout="column">
        <div class="header" fxFlex="100" fxLayoutAlign="center center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">{{'Unacceptable' | translate}} (UNA)</div>
        </div>
        <div fxFlex="100" fxLayout="row">
            <div class="header" fxFlex="50" fxLayoutAlign="center center">
                <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">1</div>
            </div>
            <div class="header" fxFlex="50" fxLayoutAlign="center center">
                <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">2</div>
            </div>
        </div>
    </div>
    <div fxFlex.gt-sm="17" fxFlex.gt-xs="17" fxFlex="50" fxLayout="column">
        <div class="header" fxFlex="100" fxLayoutAlign="center center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">{{'Need Improve'|translate}} (NIM)</div>
        </div>
        <div fxFlex="100" fxLayout="row">
            <div class="header" fxFlex="50" fxLayoutAlign="center center">
                <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">3</div>
            </div>
            <div class="header" fxFlex="50" fxLayoutAlign="center center">
                <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">4</div>
            </div>
        </div>
    </div>
    <div fxFlex.gt-sm="17" fxFlex.gt-xs="17" fxFlex="50" fxLayout="column">
        <div class="header" fxFlex="100" fxLayoutAlign="center center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">{{'Standard'|translate}} (STD)</div>
        </div>
        <div fxFlex="100" fxLayout="row">
            <div class="header" fxFlex="50" fxLayoutAlign="center center">
                <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">5</div>
            </div>
            <div class="header" fxFlex="50" fxLayoutAlign="center center">
                <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">6</div>
            </div>
        </div>
    </div>
    <div fxFlex.gt-sm="16" fxFlex.gt-xs="16" fxFlex="50" fxLayout="column">
        <div class="header" fxFlex="100" fxLayoutAlign="center center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">{{'Above Standard' | translate}} (AST)</div>
        </div>
        <div fxFlex="100" fxLayout="row">
            <div class="header" fxFlex="50" fxLayoutAlign="center center">
                <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">7</div>
            </div>
            <div class="header" fxFlex="50" fxLayoutAlign="center center">
                <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">8</div>
            </div>
        </div>
    </div>
    <div fxFlex.gt-sm="16" fxFlex.gt-xs="16" fxFlex="50" fxLayout="column">
        <div class="header" fxFlex="100" fxLayoutAlign="center center">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">{{'Outstanding' | translate}} (OUT)</div>
        </div>
        <div fxFlex="100" fxLayout="row">
            <div class="header" fxFlex="50" fxLayoutAlign="center center">
                <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">9</div>
            </div>
            <div class="header" fxFlex="50" fxLayoutAlign="center center">
                <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 5px">10</div>
            </div>
        </div>
    </div>
</div>
<!-- TotalScore -->
<div fxLayout="row" fxLayoutWrap="wrap">
    <div fxFlex.gt-sm="54" fxFlex.gt-xs="54" fxFlex="100" fxLayout="column" fxLayoutAlign.gt-sm="start center" fxLayoutAlign.gt-xs="start center"
        class="mt-1" fxLayout.gt-sm="row" fxLayout.gt-xs="row" fxLayoutAlign="none">
        <div fxFlex.gt-sm="50" fxFlex.gt-xs="50" fxLayout="row" fxFlex="100">
            <div class="header" fxLayoutWrap="wrap" fxLayout="row" fxFlex="75" style="font-size: 15px; " fxLayoutAlign="center center">
                {{'Final Score & Grade' | translate}}
            </div>
            <div class="detail" fxLayoutWrap="wrap" fxLayout="row" fxFlex="25" style="font-size: 15px; " fxLayoutAlign="center center">
                7.00
            </div>
        </div>
        <div fxFlex.gt-sm="50" fxFlex.gt-xs="50" fxLayout="row" fxFlex="100">
            <div class="header" fxLayoutWrap="wrap" fxLayout="row" fxFlex="25" style="font-size: 15px; " fxLayoutAlign="center center">
                {{'Level' | translate}}
            </div>
            <div class="detail" fxLayoutWrap="wrap" fxLayout="row" fxFlex="75" style="font-size: 15px; " fxLayoutAlign="center center">
                {{'Above Standard' | translate}}
            </div>
        </div>
    </div>
</div>
<md-card>
    <hr>
    <div fxFlex="100" fxLayout="row" class="mt-1 mb-1">
        <div fxFlex="70">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 50%">
                <b>{{'Topic'|translate}}</b>
            </div>
        </div>
        <div fxFlex="30">
            <div fxLayoutWrap="wrap" fxLayout="row" style="margin-left: 50%">
                <b>{{'Score'|translate}}</b>
            </div>
        </div>
    </div>
    <hr>
    <md-card-content>
        <div *ngFor="let head of header; let k = index" class="mt-1">
            <div *ngIf="head.H_Level==1">
                <div fxLayout="row " fxLayoutAlign="start center" class="ml-1 mb-1" fxFlex="100">
                    <div fxFlex="5">
                        <div fxLayoutWrap="wrap " fxLayout="row " style="margin-top: -3px; ">
                            <md-icon>star_rate</md-icon>
                        </div>
                    </div>
                    <div fxFlex="65" fxLayout.gt-xs="row" fxLayout.gt-sm="column">
                        <div style="font-size: 19px; ">{{head['Text_Language'][Lang]}}</div>
                    </div>
                    <div fxFlex="30">
                        <div fxLayout="row " fxLayoutWrap="wrap" style="margin-left: 43% ">
                            <input class="ml-1 mr-1" style="text-align: center; width: 60px; font-size: 19px;" disabled="disabled" [(ngModel)]="finalTotalScore[k]">
                        </div>
                    </div>
                </div>
                <div *ngFor="let head2 of header; let i=index">
                    <div *ngIf=" head2.H_Level==2 && head2.Parent==head.H_ID">
                        <div fxFlex="100" fxLayout="row" fxLayoutAlign="start start">
                            <div fxFlex="5">
                                <div fxLayoutWrap="wrap " fxLayout="row " style="margin-top: -3px; ">
                                    <button *ngIf="flag[i]==false " (click)="callflag(i) " md-icon-button md-button-sm>
                                        <md-icon>add_circle_outline</md-icon>
                                    </button>
                                    <button *ngIf="flag[i]==true " (click)="callflag(i) " md-icon-button md-button-sm>
                                        <md-icon>remove_circle_outline</md-icon>
                                    </button>
                                </div>
                            </div>
                            <div fxFlex="64 ">
                                <div fxLayoutWrap="wrap " fxLayout="row " style="margin-left: 15px; ">
                                    {{head2['Text_Language'][Lang]}}
                                </div>
                            </div>
                            <div fxFlex="30">
                                <div fxLayout="row " fxLayoutWrap="wrap" style="margin-left: 51% " fxLayout.xs="column ">
                                    <div style="margin-top: -3px; ">
                                        <input class="mr-1" style="width: 50px; font-size: 15px; text-align: center;" disabled="disabled" [(ngModel)]="subTotalScore[i]">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="flag[i]==true ">
                            <div *ngFor="let head3 of header; let j=index;">
                                <div *ngIf=" head3.H_Level==3 && head3.Parent==head2.H_ID " fxFlex="100" fxLayout="row " fxLayoutAlign="start start " class="ml-1">
                                    <div fxFlex="5" style="margin-top: -2px; ">
                                        <md-icon>play_arrow</md-icon>
                                    </div>
                                    <div fxFlex="64">
                                        <div fxLayoutWrap="wrap " fxLayout="row " style="margin-left: 15px ">
                                            {{head3['Text_Language'][Lang]}}
                                        </div>
                                    </div>
                                    <div fxFlex="30">
                                        <div fxLayoutWrap="wrap " fxLayout="row " style="margin-left: 53% ">
                                            <div>
                                                <input class="mr-1" style="width: 50px; text-align: center;" disabled="disabled" [(ngModel)]="currentScore[j]">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="ml-1 mb-1">
                                <span>{{'Comment'|translate}} : {{head2.Comment}}</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="ml-1 mt-1">
                    <span>{{'Comment'|translate}} : {{head.Comment}}</span>
                </div>
            </div>
        </div>
    </md-card-content>
</md-card>